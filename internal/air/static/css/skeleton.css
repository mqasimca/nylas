/**
 * Skeleton Loader Styles
 * Animated loading placeholders for perceived performance
 */

/* Base skeleton animation */
@keyframes skeleton-shimmer {
    0% {
        background-position: -200px 0;
    }
    100% {
        background-position: calc(200px + 100%) 0;
    }
}

@keyframes skeleton-pulse {
    0%, 100% {
        opacity: 0.4;
    }
    50% {
        opacity: 0.7;
    }
}

/* Skeleton container */
.skeleton-container {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.skeleton-container.fade-out {
    opacity: 0;
    transition: opacity 0.2s ease-out;
}

/* Base skeleton element */
[class*="skeleton-"] {
    background: linear-gradient(
        90deg,
        var(--skeleton-base, #e5e7eb) 0%,
        var(--skeleton-highlight, #f3f4f6) 50%,
        var(--skeleton-base, #e5e7eb) 100%
    );
    background-size: 200px 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
    border-radius: 4px;
}

/* Dark mode skeleton colors */
[data-theme="dark"] [class*="skeleton-"],
.dark [class*="skeleton-"] {
    --skeleton-base: #374151;
    --skeleton-highlight: #4b5563;
}

/* Skeleton line (text placeholder) */
.skeleton-line {
    height: 12px;
    margin-bottom: 8px;
}

.skeleton-line:last-child {
    margin-bottom: 0;
}

/* Line variants */
.skeleton-sender {
    width: 40%;
    height: 14px;
}

.skeleton-subject {
    width: 70%;
}

.skeleton-preview {
    width: 90%;
    height: 10px;
}

.skeleton-title {
    width: 60%;
    height: 18px;
}

.skeleton-meta {
    width: 40%;
    height: 10px;
}

.skeleton-full {
    width: 100%;
}

.skeleton-partial {
    width: 75%;
}

.skeleton-short {
    width: 50%;
}

/* Avatar placeholders */
.skeleton-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    flex-shrink: 0;
}

.skeleton-avatar-lg {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* Email skeleton */
.skeleton-email {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border-color, #e5e7eb);
}

.skeleton-content {
    flex: 1;
    min-width: 0;
}

.skeleton-date {
    width: 50px;
    height: 12px;
    flex-shrink: 0;
}

/* Email preview skeleton */
.skeleton-preview-pane {
    padding: 24px;
}

.skeleton-header {
    display: flex;
    gap: 16px;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border-color, #e5e7eb);
}

.skeleton-header-text {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.skeleton-body {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Event skeleton */
.skeleton-event {
    display: flex;
    gap: 12px;
    padding: 12px;
    border-left: 3px solid var(--skeleton-base, #e5e7eb);
}

.skeleton-time {
    width: 60px;
    height: 24px;
    flex-shrink: 0;
}

.skeleton-event-content {
    flex: 1;
}

.skeleton-event-title {
    width: 70%;
    height: 14px;
}

.skeleton-event-location {
    width: 50%;
    height: 10px;
}

/* Contact skeleton */
.skeleton-contact {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border-color, #e5e7eb);
}

.skeleton-contact-info {
    flex: 1;
}

.skeleton-name {
    width: 50%;
    height: 14px;
}

.skeleton-email-addr {
    width: 70%;
    height: 10px;
}

/* Inline skeleton */
.skeleton-inline {
    display: inline-block;
    height: 1em;
    vertical-align: middle;
    border-radius: 2px;
}

/* Content loaded animation */
.content-loaded > * {
    animation: content-fade-in 0.3s ease-out;
}

@keyframes content-fade-in {
    from {
        opacity: 0;
        transform: translateY(4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Screen reader only */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Loading state on container */
.loading {
    pointer-events: none;
}
